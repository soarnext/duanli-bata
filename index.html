<!DOCTYPE HTML>
<html>
	<head>
		<title>智能短链生成器</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/modal.css" />
		<link rel="stylesheet" href="assets/css/alert-modal.css" />
		<link rel="stylesheet" href="assets/css/custom.css" />
		<link rel="stylesheet" href="assets/css/mobile.css" />
	</head>
			<body class="is-preload">
				<script>
					(function() {
						"use strict";
						function setBackgroundImage() {
							const isMobile = /Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
							const apiUrl = isMobile ? 'https://bing.biturl.top/?resolution=1366&format=json&index=0&mkt=zh-CN' : 'https://bing.biturl.top/?resolution=UHD&format=json&index=0&mkt=zh-CN';
							const fallbackUrl = isMobile ? 'images/Mobile.jpg' : 'images/1.jpg';

							fetch(apiUrl)
								.then(response => response.json())
								.then(data => {
									const imageUrl = data.url;
									const img = new Image();
									img.src = imageUrl;
									img.onload = function() {
										document.body.style.backgroundImage = `url('${imageUrl}')`;
									};
									img.onerror = function() {
										document.body.style.backgroundImage = `url('${fallbackUrl}')`;
									};

									const aboutCopyrightElement = document.getElementById('bing-copyright');
									if (aboutCopyrightElement) {
										aboutCopyrightElement.innerHTML = `背景版权: <a href="${data.copyright_link}" target="_blank">${data.copyright}</a>`;
									}
								})
								.catch(error => {
									console.error('Error fetching background image URL:', error);
									document.body.style.backgroundImage = `url('${fallbackUrl}')`;
									const aboutCopyrightElement = document.getElementById('bing-copyright');
									if (aboutCopyrightElement) {
										aboutCopyrightElement.innerHTML = '';
									}
								});

							document.body.style.backgroundSize = 'cover';
							document.body.style.backgroundPosition = 'center center';
							document.body.style.backgroundAttachment = 'fixed';
						}
						setBackgroundImage();
					})();
				</script>

				<script type="module" src="./assets/js/redirect.js"></script>

				<div id="main-container">
					<header id="header">
						<h1>翛链</h1>
						<p>智能短链生成器</p>
					</header>

					<form id="signup-form" method="post" action="#">
						<input type="text" name="url" id="url" placeholder="请输入您的长链接" />
						<input type="submit" value="生成链接" />
					</form>
					<div id="alert-modal" class="modal">
						<div class="modal-content">
							<div class="checkmark-container">
								<svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
									<circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none"/>
									<path class="checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
								</svg>
							</div>
							<p id="alert-message" style="color: white;"></p>
							<button id="alert-ok-btn" class="button" style="margin-top: 1em;">确认</button>
						</div>
					</div>

					<div id="advanced-options">
						<a href="#" onclick="toggleAdvanced(); return false;">高级选项</a>
						<div id="advanced-fields">
							<div>
								<label for="expiresInHours">过期时间 (小时)</label>
								<input type="number" id="expiresInHours" value="2" min="0" />
							</div>
							<div>
								<label for="maxVisits">最大访问次数 (0 或留空表示不限制)</label>
								<input type="number" id="maxVisits" placeholder="不限制" min="0" />
							</div>
						</div>
					</div>

					<p id="b_url" style="margin-top: 20px;"></p>

					<script type="module" src="assets/js/app.js"></script>
				</div>

				<footer id="footer">
					<ul class="icons">
						<li><a href="https://github.com/xiaosoar/lianjie" class="icon brands fa-github" target="_blank"><span class="label">GitHub</span></a></li>
					</ul>
					<ul class="copyright">
						<li>&copy; Powered by <a href="https://xsoar.cfd" target="_blank">翛Soar</a></li>
					</ul>
					<p id="bing-copyright" style="font-size: 0.7em; color: #bbb; margin-top: 0.5em;"></p>
				</footer>

				<script src="assets/js/main.js"></script>
			</body>
		</html>
